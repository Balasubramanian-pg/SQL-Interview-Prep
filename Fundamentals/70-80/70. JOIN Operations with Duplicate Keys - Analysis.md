## Table Setup

```SQL
CREATE TABLE t1(id1 int);
CREATE TABLE t2(id2 int);

INSERT INTO t1 VALUES (1), (1);  -- 2 rows with value 1
INSERT INTO t2 VALUES (1), (1), (1);  -- 3 rows with value 1
```

## JOIN Behavior with Duplicate Keys

### 1. INNER JOIN

```SQL
SELECT * FROM t1 INNER JOIN t2 ON t1.id1 = t2.id2;
```

**Result**: 6 rows (2 × 3 = all possible combinations)

**Mechanism**:

- Each of the 2 rows in t1 matches with each of the 3 rows in t2
- Cartesian product of matching rows

### 2. LEFT JOIN (LEFT OUTER JOIN)

```SQL
SELECT * FROM t1 LEFT JOIN t2 ON t1.id1 = t2.id2;
```

**Result**: 6 rows (same as INNER JOIN in this case)

**Why**:

- All rows in t1 have matches in t2
- No "unmatched" rows from the left table to include
- Still performs the cartesian product (2 × 3)

### 3. RIGHT JOIN (RIGHT OUTER JOIN)

```SQL
SELECT * FROM t1 RIGHT JOIN t2 ON t1.id1 = t2.id2;
```

**Result**: 6 rows (same as above)

**Why**:

- All rows in t2 have matches in t1
- No "unmatched" rows from the right table to include
- Still 2 × 3 combinations

### 4. FULL OUTER JOIN

```SQL
SELECT * FROM t1 FULL OUTER JOIN t2 ON t1.id1 = t2.id2;
```

**Result**: 6 rows (same as above)

**Why**:

- All rows match between both tables
- No unmatched rows from either side to include
- Still produces the cartesian product of matches

## Key Insights

1. **JOIN Multiplication Effect**:
    - With duplicates, JOINs create cartesian products of matching rows
    - 2 rows × 3 rows = 6 result rows in all JOIN types here
2. **OUTER JOIN Behavior**:
    - Only add rows when there are UNMATCHED records
    - In this case, all records match so same as INNER JOIN
3. **Practical Implications**:
    
    ```SQL
    -- This produces the same 6-row result as all the JOINs above:
    SELECT * FROM t1 CROSS JOIN t2 WHERE t1.id1 = t2.id2;
    ```
    
4. **NULL Handling**:
    - Would see NULLs in LEFT/RIGHT/FULL JOINs if there were unmatched rows
    - No NULLs appear in this example

## Visual Representation

```Plain
Table t1:     Table t2:
+----+        +----+
| id1|        | id2|
+----+        +----+
| 1  |        | 1  |
| 1  |        | 1  |
+----+        | 1  |
              +----+

All JOIN results:
+----+----+
| id1| id2|
+----+----+
| 1  | 1  |
| 1  | 1  |
| 1  | 1  |
| 1  | 1  |
| 1  | 1  |
| 1  | 1  |
+----+----+
```
