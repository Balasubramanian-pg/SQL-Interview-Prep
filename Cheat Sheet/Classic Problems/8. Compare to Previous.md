## Pattern 8: Compare to Previous/Next Row

**Difference from Previous Row:**
```sql
SELECT 
    date,
    value,
    value - LAG(value) OVER(ORDER BY date) as change_from_prev
FROM metrics
```

**Percent Change:**
```sql
SELECT 
    date,
    value,
    ROUND(
        (value - LAG(value) OVER(ORDER BY date)) * 100.0 / 
        LAG(value) OVER(ORDER BY date),
        2
    ) as pct_change
FROM metrics
```

**Compare Next 3 Rows:**
```sql
SELECT 
    employee_id,
    salary,
    LEAD(salary, 1) OVER(ORDER BY salary) as next_salary,
    LEAD(salary, 2) OVER(ORDER BY salary) as salary_plus_2,
    LEAD(salary, 3) OVER(ORDER BY salary) as salary_plus_3
FROM employees
```
