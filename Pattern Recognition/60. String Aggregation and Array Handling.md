**Pattern**: Combining multiple string values into arrays or delimited strings.

**Decomposition Strategy**:

1. Group data by appropriate dimensions
2. Apply string/array aggregation functions
3. Handle formatting and delimitation
4. Process or query the aggregate results

**Example**: "Concatenate product categories for each customer's purchases."

```SQL
-- PostgreSQL string aggregation
SELECT
    customer_id,
    STRING_AGG(DISTINCT category_name, ', ' ORDER BY category_name) AS purchased_categories,
    ARRAY_AGG(DISTINCT product_id ORDER BY product_id) AS purchased_product_ids
FROM customer_purchases cp
JOIN products p ON cp.product_id = p.product_id
JOIN categories c ON p.category_id = c.category_id
GROUP BY customer_id;

-- MySQL string aggregation
SELECT
    customer_id,
    GROUP_CONCAT(DISTINCT category_name ORDER BY category_name SEPARATOR ', ') AS purchased_categories
FROM customer_purchases cp
JOIN products p ON cp.product_id = p.product_id
JOIN categories c ON p.category_id = c.category_id
GROUP BY customer_id;

-- Query array elements (PostgreSQL)
SELECT
    customer_id,
    purchased_categories,
    purchased_product_ids,
    purchased_product_ids[1] AS first_product,
    array_length(purchased_product_ids, 1) AS product_count
FROM customer_product_summary
WHERE array_position(purchased_product_ids, 12345) IS NOT NULL;
```