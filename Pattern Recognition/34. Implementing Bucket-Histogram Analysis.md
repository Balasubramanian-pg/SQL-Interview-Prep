**Pattern**: Grouping values into ranges for distribution analysis.

**Decomposition Strategy**:

1. Define bucket boundaries
2. Assign each value to a bucket
3. Count occurrences in each bucket

**Example**: "Create a histogram of order values in $100 buckets."

```SQL
WITH buckets AS (
    SELECT
        FLOOR(order_amount / 100) * 100 AS bucket_floor,
        COUNT(*) AS count
    FROM orders
    GROUP BY FLOOR(order_amount / 100) * 100
)

SELECT
    bucket_floor,
    bucket_floor + 99 AS bucket_ceiling,
    count,
    REPEAT('â–ˆ', CEIL(count * 100.0 / (SELECT MAX(count) FROM buckets))) AS histogram
FROM buckets
ORDER BY bucket_floor;
```