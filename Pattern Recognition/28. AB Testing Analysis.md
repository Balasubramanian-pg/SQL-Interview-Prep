**Pattern**: Analyzing experiment results between test groups.

**Decomposition Strategy**:

1. Identify treatment and control groups
2. Calculate metrics for each group
3. Compute statistical significance
4. Compare and contrast results

**Example**: "Compare conversion rates between test and control groups."

```SQL
WITH experiment_metrics AS (
    SELECT
        experiment_group,
        COUNT(DISTINCT user_id) AS users,
        SUM(CASE WHEN converted = 1 THEN 1 ELSE 0 END) AS conversions
    FROM ab_test_results
    GROUP BY experiment_group
),

conversion_rates AS (
    SELECT
        experiment_group,
        users,
        conversions,
        conversions / users AS conversion_rate,
        SQRT((conversion_rate * (1 - conversion_rate)) / users) AS standard_error
    FROM experiment_metrics
)

SELECT
    a.experiment_group AS group_a,
    b.experiment_group AS group_b,
    a.conversion_rate AS rate_a,
    b.conversion_rate AS rate_b,
    (b.conversion_rate - a.conversion_rate) AS absolute_difference,
    (b.conversion_rate - a.conversion_rate) / a.conversion_rate * 100 AS percent_difference,
    (b.conversion_rate - a.conversion_rate) /
        SQRT(POWER(a.standard_error, 2) + POWER(b.standard_error, 2)) AS z_score
FROM conversion_rates a
CROSS JOIN conversion_rates b
WHERE a.experiment_group = 'control' AND b.experiment_group = 'treatment';
```