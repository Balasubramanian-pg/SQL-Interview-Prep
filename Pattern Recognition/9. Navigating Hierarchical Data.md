**Pattern**: Working with self-referential tree structures.

**Decomposition Strategy**:

1. Use recursive CTE with base case and recursive case
2. Track path and depth in the hierarchy
3. Filter or aggregate based on hierarchical position

**Example**: "List all employees under a specific manager with their hierarchy level."

```SQL
WITH RECURSIVE emp_hierarchy AS (
    -- Base case: manager we start with
    SELECT id, name, manager_id, 0 AS level
    FROM employees
    WHERE id = 123

    UNION ALL

    -- Recursive case: direct reports of each manager
    SELECT e.id, e.name, e.manager_id, eh.level + 1
    FROM employees e
    JOIN emp_hierarchy eh ON e.manager_id = eh.id
)
SELECT id, name, level FROM emp_hierarchy;
```