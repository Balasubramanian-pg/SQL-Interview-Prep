**Pattern**: Complex multi-table joins requiring optimization.

**Decomposition Strategy**:

1. Start with smallest tables or most filtered sets
2. Apply filters before joins when possible
3. Use temporary tables or CTEs for intermediate results
4. Join tables in order of increasing cardinality

**Example**: "Find all customers who purchased products from categories they had never bought before 2024."

```SQL
-- Step 1: Find categories each customer bought before 2024
WITH past_categories AS (
    SELECT DISTINCT
        c.customer_id,
        p.category_id
    FROM orders o
    JOIN order_items oi ON o.order_id = oi.order_id
    JOIN products p ON oi.product_id = p.product_id
    JOIN customers c ON o.customer_id = c.customer_id
    WHERE o.order_date < '2024-01-01'
),

-- Step 2: Find categories each customer bought in 2024
current_categories AS (
    SELECT DISTINCT
        c.customer_id,
        p.category_id
    FROM orders o
    JOIN order_items oi ON o.order_id = oi.order_id
    JOIN products p ON oi.product_id = p.product_id
    JOIN customers c ON o.customer_id = c.customer_id
    WHERE o.order_date >= '2024-01-01'
)

-- Step 3: Find new categories each customer bought
SELECT
    cc.customer_id,
    c.customer_name,
    p.category_name
FROM current_categories cc
LEFT JOIN past_categories pc
    ON cc.customer_id = pc.customer_id
    AND cc.category_id = pc.category_id
JOIN customers c ON cc.customer_id = c.customer_id
JOIN product_categories p ON cc.category_id = p.category_id
WHERE pc.category_id IS NULL;
```