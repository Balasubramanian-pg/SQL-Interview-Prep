**Pattern**: Tracking progression through sequential stages.

**Decomposition Strategy**:

1. Identify distinct stages in the funnel
2. Count users at each stage
3. Calculate conversion rates between stages

**Example**: "Calculate conversion rates through a purchase funnel (visit → cart → checkout → purchase)."

```SQL
WITH funnel_stages AS (
    SELECT
        user_id,
        MAX(CASE WHEN event = 'page_view' THEN 1 ELSE 0 END) AS visited,
        MAX(CASE WHEN event = 'add_to_cart' THEN 1 ELSE 0 END) AS added_to_cart,
        MAX(CASE WHEN event = 'checkout' THEN 1 ELSE 0 END) AS checkout,
        MAX(CASE WHEN event = 'purchase' THEN 1 ELSE 0 END) AS purchased
    FROM user_events
    GROUP BY user_id
),

stage_counts AS (
    SELECT
        SUM(visited) AS visit_count,
        SUM(added_to_cart) AS cart_count,
        SUM(checkout) AS checkout_count,
        SUM(purchased) AS purchase_count
    FROM funnel_stages
)

SELECT
    visit_count,
    cart_count,
    checkout_count,
    purchase_count,
    (cart_count * 100.0 / visit_count) AS visit_to_cart_rate,
    (checkout_count * 100.0 / cart_count) AS cart_to_checkout_rate,
    (purchase_count * 100.0 / checkout_count) AS checkout_to_purchase_rate,
    (purchase_count * 100.0 / visit_count) AS overall_conversion_rate
FROM stage_counts;
```

Each of these patterns represents a common SQL interview question type. By understanding the decomposition strategy for each pattern, you'll be better prepared to tackle even the most complex SQL problems in an interview setting.