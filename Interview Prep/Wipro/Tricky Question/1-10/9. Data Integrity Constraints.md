## 9. Explain **data integrity constraints** (primary key, foreign key, unique, check, not null).

Here’s a clear explanation of **data integrity constraints** in SQL, which ensure the accuracy and consistency of data in a database:

## **1. PRIMARY KEY**
- **Purpose**: Uniquely identifies each row in a table.
- **Rules**:
  - **No NULL values** allowed.
  - **Unique** across the table.
  - Only **one primary key** per table (can be composite, i.e., multiple columns).
- **Example**:
  ```sql
  CREATE TABLE users (
      user_id INT PRIMARY KEY,
      name VARCHAR(100)
  );
  ```
- **Use Case**: Ensures each row is uniquely identifiable (e.g., `user_id`, `order_id`).

---

## **2. FOREIGN KEY**
- **Purpose**: Enforces **referential integrity** by linking a column to a primary key in another table.
- **Rules**:
  - Values must match a value in the referenced table’s primary key (or be NULL, if allowed).
  - Prevents **orphaned records**.
- **Example**:
  ```sql
  CREATE TABLE orders (
      order_id INT PRIMARY KEY,
      user_id INT,
      FOREIGN KEY (user_id) REFERENCES users(user_id)
  );
  ```
- **Use Case**: Maintains relationships between tables (e.g., `user_id` in `orders` must exist in `users`).

---

## **3. UNIQUE**
- **Purpose**: Ensures all values in a column (or group of columns) are **unique**.
- **Rules**:
  - **No duplicate values** allowed (but **one NULL** is allowed unless specified otherwise).
  - Multiple **UNIQUE** constraints per table.
- **Example**:
  ```sql
  CREATE TABLE users (
      user_id INT PRIMARY KEY,
      email VARCHAR(100) UNIQUE
  );
  ```
- **Use Case**: Columns requiring uniqueness (e.g., `email`, `username`).

---

## **4. CHECK**
- **Purpose**: Enforces **custom conditions** on column values.
- **Rules**:
  - Defines a **boolean expression** that must evaluate to `TRUE` for the value to be accepted.
- **Example**:
  ```sql
  CREATE TABLE products (
      product_id INT PRIMARY KEY,
      price DECIMAL(10, 2) CHECK (price > 0),
      stock INT CHECK (stock >= 0)
  );
  ```
- **Use Case**: Validates data (e.g., `price > 0`, `age >= 18`).

---

## **5. NOT NULL**
- **Purpose**: Ensures a column **cannot contain NULL** (missing/unknown) values.
- **Rules**:
  - Every row must have a value for the column.
- **Example**:
  ```sql
  CREATE TABLE users (
      user_id INT PRIMARY KEY,
      name VARCHAR(100) NOT NULL
  );
  ```
- **Use Case**: Required fields (e.g., `name`, `email`).

---

## **Summary Table**



| Constraint      | Purpose                                      | Rules                                                                 | Example                          |
|-----------------|----------------------------------------------|-----------------------------------------------------------------------|----------------------------------|
| **PRIMARY KEY** | Uniquely identifies rows.                    | No NULLs, unique, one per table.                                    | `user_id INT PRIMARY KEY`        |
| **FOREIGN KEY** | Enforces referential integrity.             | Matches a primary key in another table.                            | `FOREIGN KEY (user_id) REFERENCES users(user_id)` |
| **UNIQUE**      | Ensures unique values in a column.           | No duplicates (one NULL allowed).                                  | `email VARCHAR(100) UNIQUE`       |
| **CHECK**       | Enforces custom conditions.                  | Values must satisfy a boolean expression.                          | `price DECIMAL(10, 2) CHECK (price > 0)` |
| **NOT NULL**    | Ensures a column has a value.               | NULL values are not allowed.                                       | `name VARCHAR(100) NOT NULL`      |

---

### **Key Callouts**

<ins>**Callout 1: Primary vs. Unique**</ins>
- **Primary Key**: Only one per table, cannot be NULL.
- **Unique**: Multiple allowed, can have one NULL.

<ins>**Callout 2: Referential Integrity**</ins>
- **Foreign Key** ensures data consistency across tables (e.g., no orphaned orders).

<ins>**Callout 3: Data Validation**</ins>
- **CHECK** constraints act as gatekeepers for valid data (e.g., `age >= 18`).

<ins>**Callout 4: Required Fields**</ins>
- **NOT NULL** ensures critical data is always provided (e.g., `name`, `email`).

<ins>**Callout 5: Composite Keys**</ins>
- Constraints can apply to **multiple columns** (e.g., `PRIMARY KEY (column1, column2)`).

---
**Why Use Constraints?**
- **Prevent invalid data** (e.g., negative prices, duplicate emails).
- **Maintain relationships** between tables.
- **Simplify application logic** by offloading validation to the database.

---
**Example:**
```sql
CREATE TABLE employees (
    employee_id INT PRIMARY KEY,
    name VARCHAR(100) NOT NULL,
    email VARCHAR(100) UNIQUE,
    salary DECIMAL(10, 2) CHECK (salary > 0),
    department_id INT,
    FOREIGN KEY (department_id) REFERENCES departments(department_id)
);
```
- Ensures `employee_id` is unique, `name` is required, `email` is unique, `salary` is positive, and `department_id` references a valid department.
